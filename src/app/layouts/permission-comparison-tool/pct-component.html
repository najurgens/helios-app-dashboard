<div class="slds-page-header mr-2 ml-2 mt-2">
  <div class="slds-page-header__row">
    <div class="slds-page-header__col-title">
      <div class="slds-media">
        <div class="slds-media__figure">
          <span class="slds-icon_container slds-icon-standard-opportunity">
            <svg class="slds-icon slds-page-header__icon" aria-hidden="true">
              <use
                xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#opportunity"
              ></use>
            </svg>
          </span>
        </div>
        <div class="slds-media__body">
          <h1>
            <span>Compare Permissions</span>
          </h1>
        </div>
      </div>
    </div>
    <div class="slds-page-header__col-actions">
      <div class="slds-page-header__controls">
        <div class="slds-page-header__control">
          <button class="slds-button slds-button_outline-brand">
            Download CSV
          </button>
          <button class="slds-button slds-button_text-destructive">
            Merge
          </button>
          <button class="slds-button slds-button_success">
            Roll-Back
          </button>
          <button
            class="slds-button slds-button_icon slds-button_icon-border-filled"
            aria-haspopup="true"
            title="More Actions"
          >
            <svg class="slds-button__icon" aria-hidden="true">
              <use
                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down"
              ></use>
            </svg>
            <span class="slds-assistive-text">More Actions</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="slds-page-header__row">
    <div class="slds-page-header__col-meta"></div>
    <div class="slds-page-header__col-controls">
      <div class="slds-page-header__controls">
        <div class="slds-page-header__control">
          <div class="slds-form-element">
            <div
              class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left"
            >
              <svg
                class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"
                aria-hidden="true"
              >
                <use
                  xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#search"
                ></use>
              </svg>
              <input
                type="text"
                id="text-input-id-1"
                placeholder="Search this list..."
                class="slds-input"
              />
            </div>
          </div>
        </div>
        <div class="slds-page-header__control">
          <div class="slds-dropdown-trigger slds-dropdown-trigger_click">
            <button
              class="slds-button slds-button_icon slds-button_icon-more"
              aria-haspopup="true"
              title="List View Controls"
            >
              <svg class="slds-button__icon" aria-hidden="true">
                <use
                  xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#settings"
                ></use>
              </svg>
              <svg
                class="slds-button__icon slds-button__icon_x-small"
                aria-hidden="true"
              >
                <use
                  xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down"
                ></use>
              </svg>
              <span class="slds-assistive-text">List View Controls</span>
            </button>
          </div>
        </div>
        <div class="slds-page-header__control">
          <div class="slds-dropdown-trigger slds-dropdown-trigger_click">
            <button
              class="slds-button slds-button_icon slds-button_icon-more"
              aria-haspopup="true"
              title="Change view"
            >
              <svg class="slds-button__icon" aria-hidden="true">
                <use
                  xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#table"
                ></use>
              </svg>
              <svg
                class="slds-button__icon slds-button__icon_x-small"
                aria-hidden="true"
              >
                <use
                  xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down"
                ></use>
              </svg>
              <span class="slds-assistive-text">Change view</span>
            </button>
          </div>
        </div>
        <div class="slds-page-header__control">
          <button
            class="slds-button slds-button_icon slds-button_icon-border-filled"
            title="Edit List"
          >
            <svg class="slds-button__icon" aria-hidden="true">
              <use
                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#edit"
              ></use>
            </svg>
            <span class="slds-assistive-text">Edit List</span>
          </button>
        </div>
        <div class="slds-page-header__control">
          <button
            class="slds-button slds-button_icon slds-button_icon-border-filled"
            title="Refresh List"
          >
            <svg class="slds-button__icon" aria-hidden="true">
              <use
                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#refresh"
              ></use>
            </svg>
            <span class="slds-assistive-text">Refresh List</span>
          </button>
        </div>
        <div class="slds-page-header__control">
          <ul class="slds-button-group-list">
            <li>
              <button
                class="slds-button slds-button_icon slds-button_icon-border-filled"
                title="Charts"
              >
                <svg class="slds-button__icon" aria-hidden="true">
                  <use
                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#chart"
                  ></use>
                </svg>
                <span class="slds-assistive-text">Charts</span>
              </button>
            </li>
            <li>
              <button
                class="slds-button slds-button_icon slds-button_icon-border-filled"
                title="Filters"
              >
                <svg class="slds-button__icon" aria-hidden="true">
                  <use
                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#filterList"
                  ></use>
                </svg>
                <span class="slds-assistive-text">Filters</span>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  <article class="slds-card mr-2 ml-2 mb-2" style="height: 100vh;">
    <div
      class="slds-card__body slds-card__body_inner slds-scrollable"
      style="height: 75vh;"
    >
      <div
        class="slds-form-element"
        role="group"
        aria-labelledby="picklist-group-label"
      >
        <h3
          id="picklist-group-label"
          class="slds-form-element__label slds-form-element__legend"
        >
          Select Your Profile or Permission-Set
        </h3>
        <div class="slds-form-element__control">
          <div class="permissions-config">
            <div class="row">
              <div class="slds-form-element" style="width: 100%;">
                <div class="row">
                  <fieldset class="slds-form-element">
                    <legend
                      class="slds-form-element__legend slds-form-element__label"
                    >
                      Permission Filter
                    </legend>
                    <div class="slds-form-element__control">
                      <div class="slds-radio_button-group">
                        <span class="slds-button slds-radio_button">
                          <input
                            type="radio"
                            name="filterPermission"
                            id="profileRadio"
                            value="profile"
                            (click)="filterPermissions('profileRadio')"
                          />
                          <label
                            class="slds-radio_button__label"
                            for="profileRadio"
                          >
                            <span class="slds-radio_faux">Profiles</span>
                          </label>
                        </span>
                        <span class="slds-button slds-radio_button">
                          <input
                            type="radio"
                            name="filterPermission"
                            id="permissionSetRadio"
                            value="permissionSet"
                            (click)="filterPermissions('permissionSetRadio')"
                          />
                          <label
                            class="slds-radio_button__label"
                            for="permissionSetRadio"
                          >
                            <span class="slds-radio_faux">Permission Sets</span>
                          </label>
                        </span>
                      </div>
                    </div>
                  </fieldset>
                  <!--
                  <div class="slds-form-element">
                    <label class="slds-checkbox_toggle slds-grid">
                      <span class="slds-form-element__label slds-m-bottom_none"
                        >Toggle Label</span
                      >
                      <input
                        type="checkbox"
                        name="checkbox-toggle-58"
                        value="checkbox-toggle-58"
                        aria-describedby="checkbox-toggle-58"
                        (click)="togglePermissions('profilesOnly');"
                        id="profilesOnly"
                      />
                      <span
                        id="checkbox-toggle-58"
                        class="slds-checkbox_faux_container"
                        aria-live="assertive"
                      >
                        <span class="slds-checkbox_faux"></span>
                        <span class="slds-checkbox_on">Enabled</span>
                        <span class="slds-checkbox_off">Disabled</span>
                      </span>
                    </label>
                  </div>
                  <div class="slds-form-element">
                    <label class="slds-checkbox_toggle slds-grid">
                      <span class="slds-form-element__label slds-m-bottom_none"
                        >Toggle Label</span
                      >
                      <input
                        type="checkbox"
                        name="checkbox-toggle-58"
                        value="checkbox-toggle-58"
                        aria-describedby="checkbox-toggle-58"
                        (click)="togglePermissions('permissionSetsOnly');"
                        id="permissionSetsOnly"
                      />
                      <span
                        id="checkbox-toggle-58"
                        class="slds-checkbox_faux_container"
                        aria-live="assertive"
                      >
                        <span class="slds-checkbox_faux"></span>
                        <span class="slds-checkbox_on">Enabled</span>
                        <span class="slds-checkbox_off">Disabled</span>
                      </span>
                    </label>
                  </div>-->
                  <label class="slds-form-element__label" for="combobox-id-4"
                    >Permission</label
                  >
                  <div class="slds-form-element__control">
                    <div class="slds-combobox_container slds-size_small">
                      <div
                        class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click"
                        aria-expanded="false"
                        aria-haspopup="listbox"
                        role="combobox"
                        id="permissionsPicklist"
                        (click)="togglePicklist($event);"
                      >
                        <div
                          class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
                          role="none"
                        >
                          <input
                            type="text"
                            class="slds-input slds-combobox__input slds-has-focus slds-combobox__input-value"
                            id="combobox-id-4"
                            aria-activedescendant="option1"
                            aria-controls="listbox-id-4"
                            aria-expanded="false"
                            autocomplete="off"
                            role="textbox"
                            placeholder="Select a Profile or Permission Set ..."
                            readonly=""
                            value=""
                          />
                          <span
                            class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right"
                          >
                            <svg
                              class="slds-icon slds-icon slds-icon_x-small slds-icon-text-default"
                              aria-hidden="true"
                            >
                              <use
                                xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down"
                              ></use>
                            </svg>
                          </span>
                        </div>
                        <div
                          id="listbox-id-4"
                          class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid"
                          role="listbox"
                        >
                          <ul
                            *ngIf="Object.keys(permissionsMap).length > 0"
                            class="slds-listbox slds-listbox_vertical"
                            role="presentation"
                            id="permissionsOptions"
                          >
                            <li
                              *ngFor="let obj of Object.keys(permissionsMap)"
                              role="presentation"
                              class="slds-listbox__item"
                            >
                              <div
                                *ngIf="permissionsMap[obj].Name!=undefined"
                                attr.obj="{{obj}}"
                                value="Profile"
                                class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-is-selected"
                                role="option"
                                (click)="selectPicklistOption($event);"
                              >
                                <span
                                  class="slds-media__figure slds-listbox__option-icon"
                                >
                                </span>
                                <span class="slds-media__body">
                                  <span class="slds-truncate" title="{{obj}}">
                                    <span class="slds-assistive-text"
                                      >Current Selection:</span
                                    >{{permissionsMap[obj]['Name']}}</span
                                  >
                                </span>
                              </div>
                              <div
                                *ngIf="permissionsMap[obj].Label!=undefined"
                                attr.obj="{{obj}}"
                                value="PermissionSet"
                                class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
                                role="option"
                                (click)="selectPicklistOption($event);"
                              >
                                <span
                                  class="slds-media__figure slds-listbox__option-icon"
                                >
                                </span>
                                <span class="slds-media__body">
                                  <span class="slds-truncate" title="{{obj}}">
                                    <span class="slds-assistive-text"
                                      >Current Selection:</span
                                    >{{permissionsMap[obj]['Label']}}</span
                                  >
                                </span>
                              </div>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <app-datatable
                *ngIf="tableData"
                [tableData]="tableData"
                [tableHeaders]="tableHeaders"
                tableName="profiles"
              >
              </app-datatable>
              <!--INSERT DATA TABLE HERE-->
            </div>
          </div>
        </div>
      </div>
    </div>
  </article>
</div>
